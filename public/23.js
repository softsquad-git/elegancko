(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{134:function(t,a,e){"use strict";e.r(a);e(36),e(37),e(38),e(39);var i=e(28),o={name:"AdminSizeCreate",data:function(){return{title:"Dodaj rozmiar",data:{key:"",name:""}}},methods:{save:function(){var t=this;this.$axios.post("admin/products/sizes/create",this.data).then((function(a){1===a.data.success&&(t.$emit("loadData"),t.data.key="",t.data.name="",t.closeModal())}))},closeModal:function(){this.$refs["create-size"].hide()},openModal:function(){this.$refs["create-size"].show()}}},s=e(1),l=Object(s.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{ref:"create-size",attrs:{"hide-footer":"",title:t.title}},[e("form",{on:{submit:function(a){return a.preventDefault(),t.save(a)}}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.key,expression:"data.key"}],staticClass:"form-control",attrs:{id:"key",type:"text",placeholder:"Klucz","aria-label":"Klucz"},domProps:{value:t.data.key},on:{input:function(a){a.target.composing||t.$set(t.data,"key",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"Nazwa","aria-label":"Nazwa"},domProps:{value:t.data.name},on:{input:function(a){a.target.composing||t.$set(t.data,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("b-button",{attrs:{variant:"outline-secondary",type:"submit"}},[t._v("Zapisz")])],1)])])}),[],!1,null,"39b8d0de",null).exports,r={name:"AdminCreateColor",data:function(){return{title:"",data:{hex:"",name:""}}},methods:{save:function(){var t=this;console.log(this.data),this.$axios.post("admin/products/colors/create",this.data).then((function(a){1===a.data.success&&(t.data.hex="",t.data.name="",t.$emit("loadData"),t.closeModal())}))},openModal:function(){this.$refs["create-color"].show()},closeModal:function(){this.$refs["create-color"].hide()}}},n=Object(s.a)(r,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{ref:"create-color",attrs:{"hide-footer":"",title:t.title}},[e("form",{on:{submit:function(a){return a.preventDefault(),t.save(a)}}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.hex,expression:"data.hex"}],staticClass:"form-control",attrs:{id:"key",type:"text",placeholder:"Klucz","aria-label":"Klucz"},domProps:{value:t.data.hex},on:{input:function(a){a.target.composing||t.$set(t.data,"hex",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"Nazwa","aria-label":"Nazwa"},domProps:{value:t.data.name},on:{input:function(a){a.target.composing||t.$set(t.data,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("b-button",{attrs:{variant:"outline-secondary",type:"submit"}},[t._v("Zapisz")])],1)])])}),[],!1,null,"78a613b3",null).exports,c=e(27),d=e.n(c),p={name:"AdminShipmentCreate",data:function(){return{title:"Dodaj opcję wysyłki",data:{name:"",price:"",locale:""}}},methods:{save:function(){var t=this;this.$axios.post("admin/shipments/create",this.data).then((function(a){1===a.data.success&&(t.$emit("loadData"),t.data.name="",t.data.price="",t.data.locale="",t.closeModal())}))},openModal:function(){this.$refs["create-shipment"].show()},closeModal:function(){this.$refs["create-shipment"].hide()}}},u={name:"AdminDataProduct",components:{AdminShipmentCreate:Object(s.a)(p,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{ref:"create-shipment",attrs:{"hide-footer":"",title:t.title}},[e("form",{on:{submit:function(a){return a.preventDefault(),t.save(a)}}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"Nazwa","aria-label":"Nazwa"},domProps:{value:t.data.name},on:{input:function(a){a.target.composing||t.$set(t.data,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.price,expression:"data.price"}],staticClass:"form-control",attrs:{id:"price",type:"text",placeholder:"Cena","aria-label":"Cena"},domProps:{value:t.data.price},on:{input:function(a){a.target.composing||t.$set(t.data,"price",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.locale,expression:"data.locale"}],staticClass:"form-control",attrs:{id:"locale","aria-label":"Wybierz język"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"locale",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",selected:""}},[t._v("Wybierz język")]),t._v(" "),e("option",{attrs:{value:"pl"}},[t._v("Polski")]),t._v(" "),e("option",{attrs:{value:"en"}},[t._v("Angielski")])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("b-button",{attrs:{variant:"outline-secondary",type:"submit"}},[t._v("Zapisz")])],1)])])}),[],!1,null,"30d49947",null).exports,AdminCreateColor:n,AdminSizeCreate:l,quillEditor:i.quillEditor,Multiselect:d.a},data:function(){return{title:"Dodaj produkt",data:{title:"",category_id:"",content:"",description:"",locale:"",colors:[],sizes:[],shipments:[],images:[],price:"",old_price:"",currency:"",type:""},categories:[],sizes:[],colors:[],shipments:[],previousPrice:null}},methods:{save:function(){if(this.data.images=this.$refs.file.files,this.data.images.length>0){for(var t=new FormData,a=0;a<this.data.images.length;a++){var e=this.data.images[a];t.append("images["+a+"]",e,e.name),t.append("title",this.data.title),t.append("category_id",this.data.category_id),t.append("content",this.data.content),t.append("description",this.data.description),t.append("locale",this.data.locale),t.append("sizes",JSON.stringify(this.data.sizes)),t.append("shipments",JSON.stringify(this.data.shipments)),t.append("price",this.data.price),t.append("old_price",this.data.old_price),t.append("currency",this.data.currency),t.append("type",this.data.type),t.append("colors",JSON.stringify(this.data.colors))}return this.saveData(t)}return this.saveData(this.data)},saveData:function(t){var a=this;this.$axios.post(this.$route.params.id?"admin/products/update/".concat(this.$route.params.id):"admin/products/create",t).then((function(t){1===t.data.success&&a.$router.push({name:"AdminProductsList"})})).catch((function(t){}))},handleFileUpload:function(){this.data.images=this.$refs.file.files},loadCategories:function(){var t=this;this.$axios.get("categories/all").then((function(a){t.categories=a.data.data})).catch((function(t){}))},createSizeModal:function(){this.$refs.createSize.openModal()},createColorModal:function(){this.$refs.createColor.openModal()},createShipmentModal:function(){this.$refs.createShipment.openModal()},loadDataSizes:function(){var t=this;this.$axios.get("admin/products/sizes/all").then((function(a){t.sizes=a.data.data}))},loadDataColors:function(){var t=this;this.$axios.get("admin/products/colors/all").then((function(a){t.colors=a.data.data}))},loadDataShipments:function(){var t=this;this.$axios.get("admin/shipments/all").then((function(a){t.shipments=a.data.data}))},handleInput:function(t){t.target.value.toString().match(/^\d*(\.\d{1,2})?$/)||""===this.price||(this.data.price=this.previousPrice),this.previousPrice=this.data.price},checkAction:function(){var t=this;null!==this.$route.params.id&&this.$axios.get("admin/products/find/".concat(this.$route.params.id)).then((function(a){var e=a.data.data;console.log(e),t.data.title=e.title,t.data.category_id=e.category.id,t.data.description=e.description,t.data.content=e.content,t.data.price=e.price.price,t.data.old_price=e.price.old,t.data.type=e.type,t.data.currency=e.price.currency,t.data.locale=e.locale,t.data.type=e.type.id}))}},computed:{priceCssClass:function(){return 2==this.data.type||4==this.data.type?"pl-0 col-xl-2 col-lg-2 col-md-2":"col-xl-3 col-lg-3 col-md-3"}},created:function(){this.loadCategories(),this.loadDataShipments(),this.loadDataColors(),this.loadDataSizes(),this.checkAction(),document.title=this.title}},m=Object(s.a)(u,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"admin-page"},[e("h4",{staticClass:"title"},[t._v("\n        "+t._s(t.title)+"\n    ")]),t._v(" "),e("div",{staticClass:"options"},[e("b-button",{attrs:{variant:"outline-secondary"},on:{click:t.createShipmentModal}},[e("span",{staticClass:"fa fa-shipping-fast"})]),t._v(" "),e("b-button",{attrs:{variant:"outline-secondary"},on:{click:t.createColorModal}},[e("span",{staticClass:"fa fa-palette"})]),t._v(" "),e("b-button",{attrs:{variant:"outline-secondary"},on:{click:t.createSizeModal}},[e("span",{staticClass:"fa fa-expand"})]),t._v(" "),e("b-button",{attrs:{to:{name:"AdminProductsList"},variant:"outline-danger"}},[e("span",{staticClass:"fa fa-times"})])],1),t._v(" "),e("div",{staticClass:"content mt-4"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.save(a)}}},[e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.title,expression:"data.title"}],staticClass:"form-control input-admin",attrs:{id:"title",type:"text","aria-label":"Tytuł",placeholder:"Tytuł"},domProps:{value:t.data.title},on:{input:function(a){a.target.composing||t.$set(t.data,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.category_id,expression:"data.category_id"}],staticClass:"form-control input-admin",attrs:{id:"category","aria-label":"Kategoria"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"category_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",value:""}},[t._v("Wybierz kategorię")]),t._v(" "),t._l(t.categories,(function(a){return e("option",{domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-12"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.description,expression:"data.description"}],staticClass:"form-control",attrs:{id:"description",placeholder:"Krótki opis","aria-label":"Kótki opis"},domProps:{value:t.data.description},on:{input:function(a){a.target.composing||t.$set(t.data,"description",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-12"},[e("quill-editor",{model:{value:t.data.content,callback:function(a){t.$set(t.data,"content",a)},expression:"data.content"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.locale,expression:"data.locale"}],staticClass:"form-control",attrs:{id:"locale","aria-label":"Wybierz język"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"locale",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",selected:""}},[t._v("Wybierz język")]),t._v(" "),e("option",{attrs:{value:"pl"}},[t._v("Polski")]),t._v(" "),e("option",{attrs:{value:"en"}},[t._v("Angielski")])])]),t._v(" "),e("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.type,expression:"data.type"}],staticClass:"form-control",attrs:{id:"type","aria-label":"Wybierz typ"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"type",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",value:""}},[t._v("Wybierz rodzaj")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("Produkt standardowy")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Produkt w promocji")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Nowość")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("Nowość w promocji")])])]),t._v(" "),2==t.data.type||4==t.data.type?e("div",{staticClass:"col-xl-2 col-lg-2 col-md-2 pl-0 pr-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.old_price,expression:"data.old_price"}],staticClass:"form-control",attrs:{id:"old_price",type:"text","aria-label":"Poprzzednia cena",placeholder:"Poprzednia cena"},domProps:{value:t.data.old_price},on:{input:[function(a){a.target.composing||t.$set(t.data,"old_price",a.target.value)},t.handleInput]}})]):t._e(),t._v(" "),e("div",{staticClass:"pr-0",class:t.priceCssClass},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.price,expression:"data.price"}],staticClass:"form-control",attrs:{id:"price",type:"text","aria-label":"Cena",placeholder:"Cena"},domProps:{value:t.data.price},on:{input:[function(a){a.target.composing||t.$set(t.data,"price",a.target.value)},t.handleInput]}})]),t._v(" "),e("div",{staticClass:"pl-0",class:t.priceCssClass},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.currency,expression:"data.currency"}],staticClass:"form-control",attrs:{id:"currency","aria-label":"Waluta"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"currency",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",selected:""}},[t._v("Waluta")]),t._v(" "),e("option",{attrs:{value:"PLN"}},[t._v("zł")]),t._v(" "),e("option",{attrs:{value:"GPB"}},[t._v("funt")])])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4"},[e("label",{attrs:{for:"color"}},[t._v("Kolor")]),t._v(" "),e("multiselect",{attrs:{id:"color",options:t.colors,label:"name",multiple:!0,"track-by":"id","close-on-select":!1},model:{value:t.data.colors,callback:function(a){t.$set(t.data,"colors",a)},expression:"data.colors"}})],1),t._v(" "),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4"},[e("label",{attrs:{for:"size"}},[t._v("Rozmiar")]),t._v(" "),e("multiselect",{attrs:{id:"size",options:t.sizes,label:"name","close-on-select":!1,multiple:!0,"track-by":"id"},model:{value:t.data.sizes,callback:function(a){t.$set(t.data,"sizes",a)},expression:"data.sizes"}})],1),t._v(" "),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4"},[e("label",{attrs:{for:"shipment"}},[t._v("Wysyłka")]),t._v(" "),e("multiselect",{attrs:{id:"shipment",options:t.shipments,label:"name","close-on-select":!1,multiple:!0,"track-by":"id"},model:{value:t.data.shipments,callback:function(a){t.$set(t.data,"shipments",a)},expression:"data.shipments"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-12"},[e("b-form-group",{attrs:{label:"Dodaj zdjęcia:","label-for":"file-default","label-cols-sm":"2"}},[e("b-form-file",{ref:"file",attrs:{multiple:"",id:"file-default"},on:{change:function(a){return t.handleFileUpload()}}})],1)],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-12"},[e("b-button",{attrs:{variant:"outline-secondary",type:"submit"}},[t._v("Zapisz")])],1)])])]),t._v(" "),e("admin-size-create",{ref:"createSize",on:{loadData:t.loadDataSizes}}),t._v(" "),e("admin-create-color",{ref:"createColor",on:{loadData:t.loadDataColors}}),t._v(" "),e("admin-shipment-create",{ref:"createShipment",on:{loadData:t.loadDataShipments}})],1)}),[],!1,null,"cd46c662",null);a.default=m.exports}}]);