(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{208:function(a,t,e){"use strict";e.r(t);var o={name:"OrderPage",data:function(){return{title:this.$t("page.order.title"),data:{name:"",last_name:"",email:"",shipment_id:"",post_code:"",country:"",city:"",address:"",type:1,company_name:"",nip:"",number_phone:"",comments:"",products:[]},createAccount:0,shipments:[],password:""}},props:{shipment:""},methods:{save:function(){var a=this,t=this.$store.getters.StoreCart,e=[];if(t.forEach((function(a){e.push({size_id:a.size.id,color_id:a.color.id,quantity:a.quantity,product_id:a.product.id})})),this.data.products=e,1==this.createAccount){var o={name:this.data.name,last_name:this.data.last_name,email:this.data.email,password:this.password,terms:!0,city:this.data.city,address:this.data.address,post_code:this.data.post_code,phone:this.data.number_phone,country:this.data.country};this.$axios.post("auth/register",o).then((function(t){a.$notify({group:"foo",title:"Udało się",text:t.data.msg})})).catch((function(t){return a.handleAjaxError(t)}))}this.$axios.post("front/orders/create",this.data).then((function(t){var e=t.data.order_id;1===t.data.success&&(a.data.name="",a.data.last_name="",a.data.email="",a.data.shipment_id="",a.data.post_code="",a.data.city="",a.data.address="",a.data.country="",a.data.type=1,a.data.company_name="",a.data.number_phone="",a.data.products=[],a.data.comments="",a.$notify({group:"foo",title:"Udało się",text:"Zamówienie zostało złożone i oczekuje na realizację"}),a.$router.push({name:"OrderPay",params:{orderId:e}}))})).catch((function(t){return a.handleAjaxError(t)}))},buyCompany:function(a){this.data.type=a},findProduct:function(){}},watch:{createAccount:function(){console.log(this.createAccount)},shipment:function(){this.shipment.id&&(this.data.shipment_id=this.shipment.id)}},created:function(){var a=this;this.$axios.get("front/shipments/all").then((function(t){a.shipments=t.data.data})),this.shipment.id&&(this.data.shipment_id=this.shipment.id)}},s=e(0),r=Object(s.a)(o,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("form",{on:{submit:function(t){return t.preventDefault(),a.save(t)}}},[e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{"aria-label":a.$t("form.first_name"),placeholder:a.$t("form.first_name")},domProps:{value:a.data.name},on:{input:function(t){t.target.composing||a.$set(a.data,"name",t.target.value)}}})]),a._v(" "),e("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.last_name,expression:"data.last_name"}],staticClass:"form-control",attrs:{"aria-label":a.$t("form.last_name"),placeholder:a.$t("form.last_name")},domProps:{value:a.data.last_name},on:{input:function(t){t.target.composing||a.$set(a.data,"last_name",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.email,expression:"data.email"}],staticClass:"form-control",attrs:{"aria-label":a.$t("form.email"),placeholder:a.$t("form.email")},domProps:{value:a.data.email},on:{input:function(t){t.target.composing||a.$set(a.data,"email",t.target.value)}}})]),a._v(" "),e("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.number_phone,expression:"data.number_phone"}],staticClass:"form-control",attrs:{"aria-label":a.$t("form.phone"),placeholder:a.$t("form.phone")},domProps:{value:a.data.number_phone},on:{input:function(t){t.target.composing||a.$set(a.data,"number_phone",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.post_code,expression:"data.post_code"}],staticClass:"form-control",attrs:{"aria-label":a.$t("form.post_code"),placeholder:a.$t("form.post_code")},domProps:{value:a.data.post_code},on:{input:function(t){t.target.composing||a.$set(a.data,"post_code",t.target.value)}}})]),a._v(" "),e("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.city,expression:"data.city"}],staticClass:"form-control",attrs:{"aria-label":a.$t("form.city"),placeholder:a.$t("form.city")},domProps:{value:a.data.city},on:{input:function(t){t.target.composing||a.$set(a.data,"city",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.address,expression:"data.address"}],staticClass:"form-control",attrs:{"aria-label":a.$t("form.address"),placeholder:a.$t("form.address")},domProps:{value:a.data.address},on:{input:function(t){t.target.composing||a.$set(a.data,"address",t.target.value)}}})]),a._v(" "),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.country,expression:"data.country"}],staticClass:"form-control",attrs:{"aria-label":a.$t("form.address"),placeholder:a.$t("form.country")},domProps:{value:a.data.country},on:{input:function(t){t.target.composing||a.$set(a.data,"country",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-12"},[e("b-button",{ref:"company",attrs:{type:"button",value:"2",variant:"outline-secondary"},on:{click:function(t){return a.buyCompany(1==a.data.type?2:1)}}},[a._v("\n                            "+a._s(a.$t("page.order.buy_company"))+"  "),e("span",{staticClass:"ml-2",class:2==a.data.type?"fa fa-angle-up":"fa fa-angle-down"})])],1)]),a._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-12"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.data.comments,expression:"data.comments"}],staticClass:"form-control",attrs:{"aria-label":a.$t("page.order.warning"),placeholder:a.$t("page.order.warning")},domProps:{value:a.data.comments},on:{input:function(t){t.target.composing||a.$set(a.data,"comments",t.target.value)}}})])]),a._v(" "),2==a.data.type?e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.company_name,expression:"data.company_name"}],staticClass:"form-control",attrs:{"aria-label":a.$t("page.order.company_nip"),placeholder:a.$t("page.order.company_name")},domProps:{value:a.data.company_name},on:{input:function(t){t.target.composing||a.$set(a.data,"company_name",t.target.value)}}})]),a._v(" "),e("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.data.nip,expression:"data.nip"}],staticClass:"form-control",attrs:{"aria-label":a.$t("page.order.company_nip"),placeholder:a.$t("page.order.company_nip")},domProps:{value:a.data.nip},on:{input:function(t){t.target.composing||a.$set(a.data,"nip",t.target.value)}}})])]):a._e(),a._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.data.shipment_id,expression:"data.shipment_id"}],staticClass:"form-control",attrs:{"aria-label":a.$t("page.basket.select_shipment")},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.data,"shipment_id",t.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",selected:""}},[a._v(a._s(a.$t("page.basket.select_shipment")))]),a._v(" "),a._l(a.shipments,(function(t){return e("option",{domProps:{value:t.id}},[a._v(a._s(t.name))])}))],2)])]),a._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[e("b-form-checkbox",{attrs:{id:"createAccount",name:"createAccount",value:"1","unchecked-value":"0"},model:{value:a.createAccount,callback:function(t){a.createAccount=t},expression:"createAccount"}},[a._v("\n                            "+a._s(a.$t("page.order.create_account"))+" "),e("router-link",{attrs:{to:"#"}},[a._v(a._s(a.$t("page.order.create_account_profit")))])],1)],1),a._v(" "),1==a.createAccount?e("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:a.$t("page.order.create_account_pass"),"aria-label":a.$t("page.order.create_account_pass")},domProps:{value:a.password},on:{input:function(t){t.target.composing||(a.password=t.target.value)}}})]):a._e()]),a._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-12"},[e("b-button",{attrs:{type:"submit",variant:"outline-secondary"}},[a._v(a._s(a.$t("btn.next")))])],1)])])])])])}),[],!1,null,"4710c9d6",null);t.default=r.exports}}]);