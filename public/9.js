(window.webpackJsonp=window.webpackJsonp||[]).push([[9,13],{10:function(t,a,e){"use strict";e.r(a);var o=e(4),i={name:"Index",components:{MetaComponent:e(6).a,NoDataComponent:o.default},data:function(){return{title:"Produkty",params:{title:"",category:"",ordering:"",pagination:"",type:""},data:[],banner:"",categories:[],types:[{value:2,text:"Promocja"},{value:3,text:"Nowość"},{value:4,text:"Nowość w promocji"}]}},methods:{loadData:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$Progress.start(),this.$axios.get("front/products/all?page=".concat(a,"&title=").concat(this.params.title,"&category=").concat(this.params.category,"&ordering=").concat(this.params.ordering,"&pagination=").concat(this.params.pagination,"&type=").concat(this.params.type)).then((function(a){t.$Progress.finish(),t.data=a.data})).catch((function(a){return t.handleAjaxError(a)}))},ordering:function(t){this.params.ordering=t,this.loadData()},pagination:function(t){this.params.pagination=t,this.loadData()},loadCategories:function(){var t=this;this.$axios.get("categories/all").then((function(a){t.categories=a.data.data})).catch((function(a){return t.handleAjaxError(a)}))},checkCategory:function(){var t=this;this.$route.params.category?(this.params.category=this.$route.params.category,this.$axios.get("categories/find/".concat(this.$route.params.category)).then((function(a){var e=a.data.data;t.title=e.name,t.banner=e.image})).catch((function(a){return t.handleAjaxError(a)}))):(this.params.category="",this.title="Produkty",this.$axios.get("front/settings/find-by-type/products_top_banner").then((function(a){t.banner=a.data.data.value})).catch((function(a){return t.handleAjaxError(a)}))),this.loadData()}},watch:{"params.ordering":function(){this.loadData()},"params.category":function(){this.checkCategory()},"$route.params.category":function(){this.checkCategory()}},created:function(){this.checkCategory(),this.loadCategories()}},s=(e(72),e(0)),r=Object(s.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"top-banner-products",style:"background: url("+t.banner+")"},[e("div",{staticClass:"bg"},[e("h1",{staticClass:"title title-top-banner"},[t._v(t._s(t.title))])])]),t._v(" "),e("div",{staticClass:"container"},[e("form",{staticClass:"mt-3 mb-3",on:{submit:function(a){return a.preventDefault(),t.loadData(a)}}},[e("div",{staticClass:"row pl-1 pr-1"},[e("div",{staticClass:"col-xl-5 p-0 col-lg-5 col-md-5 col-sm-12 col-xs-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.params.title,expression:"params.title"}],staticClass:"form-control",attrs:{id:"title","aria-label":t.$t("form.title"),placeholder:t.$t("form.title")},domProps:{value:t.params.title},on:{input:function(a){a.target.composing||t.$set(t.params,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-xl-3 p-0 col-lg-3 col-md-3 col-sm-12 col-xs-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.params.category,expression:"params.category"}],staticClass:"form-control",attrs:{id:"category","aria-label":t.$t("form.category")},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.params,"category",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",value:""}},[t._v(t._s(t.$t("form.category")))]),t._v(" "),t._l(t.categories,(function(a){return e("option",{domProps:{value:a.alias}},[t._v(t._s(a.name))])}))],2)]),t._v(" "),e("div",{staticClass:"col-xl-3 p-0 col-lg-3 col-md-3 col-sm-12 col-xs-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.params.type,expression:"params.type"}],staticClass:"form-control",attrs:{id:"type","aria-label":t.$t("form.type")},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.params,"type",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",value:""}},[t._v(t._s(t.$t("form.type")))]),t._v(" "),t._l(t.types,(function(a){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.text))])}))],2)]),t._v(" "),e("div",{staticClass:"col-xl-1 p-0 col-lg-1 col-md-1 col-sm-12 col-xs-12"},[e("b-button",{staticClass:"search-btn w-100",attrs:{type:"submit",variant:"outline-secondary"}},[e("span",{staticClass:"fa fa-search"})])],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-2 col-lg-2 col-md-2 offset-xl-10 offset-lg-10 offset-md-10"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.params.ordering,expression:"params.ordering"}],staticClass:"form-control min-select",attrs:{id:"ordering","aria-label":"Sortuj"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.params,"ordering",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",value:""}},[t._v(t._s(t.$t("form.sort.title")))]),t._v(" "),e("option",{attrs:{value:"ASC"}},[t._v(t._s(t.$t("form.sort.options.asc")))]),t._v(" "),e("option",{attrs:{value:"DESC"}},[t._v(t._s(t.$t("form.sort.options.desc")))]),t._v(" "),e("option",{attrs:{value:"PRICE_MIN"}},[t._v(t._s(t.$t("form.sort.options.price_min")))]),t._v(" "),e("option",{attrs:{value:"PRICE_MAX"}},[t._v(t._s(t.$t("form.sort.options.price_max")))])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12 col-lg-12 col-md-12"},[e("div",{staticClass:"row"},[t._l(t.data.data,(function(a){return t.data.data.length>0?e("div",{staticClass:"col-xl-3 col-lg-3 col-md-3 p-1"},[e("div",{staticClass:"single-product"},[e("router-link",{attrs:{to:{name:"ProductShow",params:{id:a.id,title:a.title}}}},[e("div",{staticClass:"product-image-photo",style:"background: url("+a.image+")"})]),t._v(" "),e("router-link",{attrs:{to:{name:"ProductShow",params:{id:a.id,title:a.title}}}},[t._v("\n                                "+t._s(a.title)+"\n                            ")]),t._v(" "),e("div",{staticClass:"footer"},[e("span",{staticClass:"text-bold"},[t._v("\n                                    "+t._s(a.price.price)+" "+t._s(a.price.currency)+"\n                                ")])])],1)]):t._e()})),t._v(" "),t.data.data.length<1?e("no-data-component",{attrs:{msg:t.$t("msg.no_data")}}):t._e()],2)]),t._v(" "),e("div",{staticClass:"col-12 mt-4"},[e("pagination",{attrs:{data:t.data},on:{"pagination-change-page":t.loadData}})],1)])]),t._v(" "),e("meta-component",{attrs:{type:"PRODUCTS"}})],1)}),[],!1,null,"21f91691",null);a.default=r.exports},14:function(t,a,e){var o=e(73);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(3)(o,i);o.locals&&(t.exports=o.locals)},57:function(t,a,e){"use strict";e.r(a);var o={name:"AdminDataCategory",components:{Index:e(10).default},data:function(){return{title:"Dodaj kategorię",categories:[],data:{name:"",alias:"",parent_id:"",is_active:"",position:"",locale:"",image:null,meta_title:"",meta_desc:"",meta_keywords:""},loadSpinner:!1}},methods:{save:function(){if(this.data.image=this.$refs.files.files,null!==this.data.image&&this.data.image.length>0){var t=new FormData,a=this.data.image;return t.append("image",a[0],a.name),t.append("name",this.data.name),t.append("alias",this.data.alias),t.append("parent_id",this.data.parent_id),t.append("is_active",this.data.is_active),t.append("position",this.data.position),t.append("locale",this.data.locale),t.append("meta_title",this.data.meta_title),t.append("meta_desc",this.data.meta_desc),t.append("meta_keywords",this.data.meta_keywords),this.saveData(t)}return this.saveData(this.data)},saveData:function(t){var a=this;this.loadSpinner=!0;var e="admin/categories/create";this.$route.params.id&&(e="admin/categories/update/".concat(this.$route.params.id)),this.$axios.post(e,t).then((function(t){a.loadSpinner=!1,1===t.data.success&&(a.$router.push({name:"AdminCategoriesList"}),a.data.name="",a.data.alias="",a.data.is_active="",a.data.position="",a.data.locale="",a.data.meta={})})).catch((function(t){a.spinnerSaveData=!1,a.handleAjaxError(t)}))}},created:function(){var t=this;this.$axios.get("admin/categories/all?parent_id=0").then((function(a){t.categories=a.data.data})).catch((function(a){t.handleAjaxError(a)})),this.$route.params.id&&this.$axios.get("admin/categories/find/".concat(this.$route.params.id)).then((function(a){var e=a.data.data;t.data.name=e.name,t.data.parent_id=0===e.parent_id?"":e.parent_id,t.data.alias=e.alias,t.data.locale=e.locale,t.data.is_active=e.is_active,t.data.position=null===e.position?"":e.position,t.data.meta_title=e.meta.title,t.data.meta_desc=e.meta.description,t.data.meta_keywords=e.meta.keywords})).catch((function(a){return t.handleAjaxError(a)}))}},i=e(0),s=Object(i.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"admin-page"},[e("h4",{staticClass:"title"},[t._v("\n        "+t._s(t.title)+"\n    ")]),t._v(" "),e("div",{staticClass:"options"},[e("b-button",{attrs:{to:{name:"AdminDataCategoriesList"},variant:"outline-danger"}},[e("span",{staticClass:"fa fa-times"})])],1),t._v(" "),e("div",{staticClass:"content mt-4"},[e("form",{staticClass:"mt-5",on:{submit:function(a){return a.preventDefault(),t.save(a)}}},[e("div",{staticClass:"row form-group"},[e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"Nazwa","aria-label":"Nazwa"},domProps:{value:t.data.name},on:{input:function(a){a.target.composing||t.$set(t.data,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.alias,expression:"data.alias"}],staticClass:"form-control",attrs:{id:"alias",type:"text",placeholder:"Alias","aria-label":"Alias"},domProps:{value:t.data.alias},on:{input:function(a){a.target.composing||t.$set(t.data,"alias",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.parent_id,expression:"data.parent_id"}],staticClass:"form-control",attrs:{id:"parent","aria-label":"Kategoria nadrzędna"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"parent_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",value:""}},[t._v("Wybierz kategorię nadrzędną")]),t._v(" "),t._l(t.categories,(function(a){return e("option",{domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),t._v(" "),e("div",{staticClass:"row form-group"},[e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.is_active,expression:"data.is_active"}],staticClass:"form-control",attrs:{id:"is_active","aria-label":"Aktywna"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"is_active",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",value:""}},[t._v("Aktywna?")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("Tak")]),t._v(" "),e("option",{attrs:{value:"0"}},[t._v("Nie")])])]),t._v(" "),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.position,expression:"data.position"}],staticClass:"form-control",attrs:{id:"position","aria-label":"Pozycja"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"position",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",value:""}},[t._v("Pozycja")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("Ogólna")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Na stronie głównej")])])]),t._v(" "),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.locale,expression:"data.locale"}],staticClass:"form-control",attrs:{id:"locale","aria-label":"Język"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"locale",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",value:""}},[t._v("Wybierz język")]),t._v(" "),e("option",{attrs:{value:"pl"}},[t._v("Polski")]),t._v(" "),e("option",{attrs:{value:"en"}},[t._v("Angielski")])])])]),t._v(" "),e("div",{staticClass:"row form-group"},[e("div",{staticClass:"col-12"},[e("b-form-group",{attrs:{label:"Wbierz zdjęcie:","label-for":"file-default","label-cols-sm":"2"}},[e("b-form-file",{ref:"files",attrs:{id:"file-default"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row form-group"},[e("div",{staticClass:"col-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.meta_title,expression:"data.meta_title"}],staticClass:"form-control",attrs:{id:"meta-title","aria-label":"Meta title",placeholder:"Meta tytuł"},domProps:{value:t.data.meta_title},on:{input:function(a){a.target.composing||t.$set(t.data,"meta_title",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row form-group"},[e("div",{staticClass:"col-12"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.meta_desc,expression:"data.meta_desc"}],staticClass:"form-control",attrs:{id:"meta-desc","aria-label":"Meta opis",placeholder:"Meta opis"},domProps:{value:t.data.meta_desc},on:{input:function(a){a.target.composing||t.$set(t.data,"meta_desc",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row form-group"},[e("div",{staticClass:"col-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.meta_keywords,expression:"data.meta_keywords"}],staticClass:"form-control",attrs:{id:"meta-keywords","aria-label":"Meta słowa kluczowe",placeholder:"Meta słowa kluczowe"},domProps:{value:t.data.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.data,"meta_keywords",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row form-group"},[e("div",{staticClass:"col-12"},[e("b-button",{attrs:{type:"submit",variant:"outline-secondary"}},[t.loadSpinner?e("b-spinner",{attrs:{small:""}}):t._e(),t._v(" Zapisz")],1)],1)])])])])}),[],!1,null,"27158e9c",null);a.default=s.exports},72:function(t,a,e){"use strict";var o=e(14);e.n(o).a},73:function(t,a,e){(t.exports=e(2)(!1)).push([t.i,".top-banner-products[data-v-21f91691]{height:700px;background-position:50%!important;background-size:cover!important;text-align:center;line-height:700px}.top-banner-products .bg[data-v-21f91691]{background:rgba(0,0,0,.12941176470588237)}.search-btn[data-v-21f91691]{border-radius:0;font-size:20px;border:0;padding-top:8px}",""])}}]);