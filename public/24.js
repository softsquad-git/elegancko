(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{16:function(t,e,a){var o=a(84);"string"==typeof o&&(o=[[t.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(2)(o,s);o.locals&&(t.exports=o.locals)},208:function(t,e,a){"use strict";a.r(e);a(53),a(80);var o=a(38),s=a.n(o),r=a(58),i=a.n(r),c=a(4),l=a.n(c),n=a(5),d=a(11);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}l.a.use(i.a);var m={name:"Show",components:{MetaComponent:n.a,Multiselect:s.a},data:function(){return{product:{},data:{color:"",size:"",product:"",quantity:1},relatedProducts:[],isLoadingRelatedProduct:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(d.b)({StoreCart:"StoreCart"})),methods:{getProduct:function(){var t=this;this.$Progress.start();var e=this.$route.params.id;this.$axios.get("front/products/find/".concat(e)).then((function(e){t.$Progress.finish(),t.product=e.data.data})).catch((function(e){return t.handleAjaxError(e)}))},addBasket:function(){this.data.product=this.product,this.$store.dispatch("addItem",this.data)},finalize:function(){if(""!==this.data.size&&""!==this.data.color)return this.$router.push({name:"OrderPage",params:{product_id:this.$route.params.id,size_id:this.data.size.id,color_id:this.data.color.id}});alert("Wypełnij pola")},getRelatedProducts:function(){var t=this;this.isLoadingRelatedProduct=!0,this.$axios.get("front/products/all?category_id=".concat(1,"&pagination=4")).then((function(e){t.isLoadingRelatedProduct=!1,t.relatedProducts=e.data.data})).catch((function(e){t.isLoadingRelatedProduct=!1,t.handleAjaxError(e)}))}},watch:{"$route.params.id":function(){this.getProduct()},StoreCart:function(){this.$notify({group:"notification-success",title:"Udało się",text:"Produkt został dodany do koszyka"}),this.data.color="",this.data.size=""}},created:function(){this.getProduct(),this.getRelatedProducts()}},v=(a(83),a(0)),g=Object(v.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container single-product-page"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[a("viewer",{attrs:{images:t.product.images}},[a("div",{staticClass:"row"},t._l(t.product.images,(function(t){return a("div",{key:t.src,staticClass:"col-4 p-1"},[a("img",{staticClass:"w-100 product-show-image img-thumbnail",attrs:{alt:t.src,src:t.src}})])})),0)])],1),t._v(" "),a("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[a("h4",{staticClass:"title"},[t._v(t._s(t.product.title))]),t._v(" "),a("div",[a("span",{staticClass:"text-bold"},[t._v(t._s(t.$t("page.product.category"))+": ")]),a("router-link",{attrs:{to:{name:"ProductsIndex",params:{category:t.product.category.alias}}}},[t._v(t._s(t.product.category.name))])],1),t._v(" "),a("p",{staticClass:"desc"},[t._v("\n                "+t._s(t.product.desc)+"\n            ")]),t._v(" "),a("div",{staticClass:"info"},[a("span",{staticClass:"price"},[t.product.price.old?a("del",[t._v(t._s(t.product.price.old))]):t._e(),t._v(" "+t._s(t.product.price.price)+"  "+t._s(t.product.price.currency))]),t._v(" "),a("multiselect",{staticClass:"select-option",attrs:{id:"size",options:t.product.sizes,label:"name","close-on-select":!0,multiple:!1,placeholder:t.$t("page.product.select_size"),"track-by":"id"},model:{value:t.data.size,callback:function(e){t.$set(t.data,"size",e)},expression:"data.size"}}),t._v(" "),a("multiselect",{staticClass:"select-option",attrs:{id:"color",options:t.product.colors,label:"name","close-on-select":!0,multiple:!1,placeholder:t.$t("page.product.select_color"),"track-by":"id"},model:{value:t.data.color,callback:function(e){t.$set(t.data,"color",e)},expression:"data.color"}})],1),t._v(" "),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12"},[a("b-button",{staticClass:"w-100 br-0 margin-bottom-15",attrs:{variant:"outline-secondary"},on:{click:t.addBasket}},[t._v(t._s(t.$t("page.product.add_basket")))])],1),t._v(" "),a("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12"},[a("b-button",{staticClass:"w-100 br-0",attrs:{variant:"outline-secondary"},on:{click:t.finalize}},[t._v(t._s(t.$t("page.product.buy_now")))])],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mt-4"},[a("p",{domProps:{innerHTML:t._s(t.product.content)}})])])])]),t._v(" "),t.relatedProducts.length>0?a("div",{staticClass:"row mt-5 mb-5"},[a("div",{staticClass:"col-12"},[a("h4",{staticClass:"title mb-2"},[t._v(t._s(t.$t("page.product.in_some_category"))+" "),t.isLoadingRelatedProduct?a("b-spinner",{staticClass:"float-right",attrs:{small:"",label:t.$t("page.product.loading_related_product")}}):t._e()],1)]),t._v(" "),t._l(t.relatedProducts,(function(e){return a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("div",{staticClass:"single-product"},[a("router-link",{attrs:{to:{name:"ProductShow",params:{id:e.id,title:e.title}}}},[a("div",{staticClass:"product-image-photo",style:"background: url("+e.image+")"})]),t._v(" "),a("router-link",{attrs:{to:{name:"ProductShow",params:{id:e.id,title:e.title}}}},[t._v("\n                    "+t._s(e.title)+"\n                ")]),t._v(" "),a("div",{staticClass:"footer"},[a("span",{staticClass:"text-bold"},[t._v("\n                                "+t._s(e.price.price)+" "+t._s(e.price.currency)+"\n                            ")])])],1)])}))],2):t._e(),t._v(" "),a("meta-component",{attrs:{title:t.product.meta.title,description:t.product.meta.description,keywords:t.product.meta.keywords,type:"ITEM"}})],1)}),[],!1,null,"2ec79288",null);e.default=g.exports},83:function(t,e,a){"use strict";var o=a(16);a.n(o).a},84:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".single-product-page .price[data-v-2ec79288]{font-size:25px;margin-bottom:22px;display:inline-block}.select-option[data-v-2ec79288]{margin-bottom:10px}.multiselect__tags[data-v-2ec79288]{border:0!important}.single-product-images[data-v-2ec79288]{max-height:600px;overflow:hidden}.desc[data-v-2ec79288]{margin-top:10px}",""])}}]);